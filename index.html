<!DOCTYPE html>
<html lang="zh" dir="auto">

<head>
	<meta name="generator" content="Hugo 0.119.0"><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>徐乾朝的博客</title>

<meta name="description" content="Theme PaperMod - https://github.com/adityatelange/hugo-PaperMod">
<meta name="author" content="徐乾朝">
<link rel="canonical" href="https://againwq.github.io/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.54840a39f352dd1226fb566b940f4396c306c178f35053fd8eb1adf7a6af72eb.css" integrity="sha256-VIQKOfNS3RIm&#43;1ZrlA9DlsMGwXjzUFP9jrGt96avcus=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://againwq.github.io/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://againwq.github.io/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://againwq.github.io/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://againwq.github.io/apple-touch-icon.png">
<link rel="mask-icon" href="https://againwq.github.io/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" type="application/rss+xml" href="https://againwq.github.io/index.xml">
<link rel="alternate" type="application/json" href="https://againwq.github.io/index.json">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>

<script type="text/javascript"
        async
        src="https://cdn.bootcss.com/mathjax/2.7.3/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [['$','$'], ['\\(','\\)']],
    displayMath: [['$$','$$'], ['\[\[','\]\]']],
    processEscapes: true,
    processEnvironments: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
    TeX: { equationNumbers: { autoNumber: "AMS" },
         extensions: ["AMSmath.js", "AMSsymbols.js"] }
  }
});

MathJax.Hub.Queue(function() {
    
    
    
    var all = MathJax.Hub.getAllJax(), i;
    for(i = 0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';
    }
});
</script>

<style>
code.has-jax {
    font: inherit;
    font-size: 100%;
    background: inherit;
    border: inherit;
    color: #515151;
}
</style>

<link rel="icon" href="/avatar.png">

<script defer crossorigin="anonymous" src="/assets/js/extended/custom.js"></script><meta property="og:title" content="徐乾朝的博客" />
<meta property="og:description" content="Theme PaperMod - https://github.com/adityatelange/hugo-PaperMod" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://againwq.github.io/" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="徐乾朝的博客"/>
<meta name="twitter:description" content="Theme PaperMod - https://github.com/adityatelange/hugo-PaperMod"/>

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Organization",
  "name": "徐乾朝的博客",
  "url": "https://againwq.github.io",
  "description": "Theme PaperMod - https://github.com/adityatelange/hugo-PaperMod",
  "thumbnailUrl": "https://againwq.github.io/favicon.ico",
  "sameAs": [
      "https://github.com/againwq", "index.xml"
  ]
}
</script>
</head>

<body class="list" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://againwq.github.io" accesskey="h" title="Again&#39;s Blog (Alt + H)">
                <img src="https://againwq.github.io/images/avatar.png" alt="" aria-label="logo"
                    height="35">Again&#39;s Blog</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://againwq.github.io/" title="Home">
                    <span class="active">Home</span>
                </a>
            </li>
            <li>
                <a href="https://againwq.github.io/about/" title="About">
                    <span>About</span>
                </a>
            </li>
            <li>
                <a href="https://againwq.github.io/archives/" title="Archives">
                    <span>Archives</span>
                </a>
            </li>
            <li>
                <a href="https://againwq.github.io/posts/" title="Series">
                    <span>Series</span>
                </a>
            </li>
            <li>
                <a href="https://againwq.github.io/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
            <li>
                <a href="https://againwq.github.io/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main"> 
<article class="first-entry home-info">
    <header class="entry-header">
        <h1>徐乾朝的博客</h1>
    </header>
    <div class="entry-content">
        Building Site &hellip;
    </div>
    <footer class="entry-footer">
        <div class="social-icons">
    <a href="https://github.com/againwq" target="_blank" rel="noopener noreferrer me" title="Github">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
    stroke-linecap="round" stroke-linejoin="round">
    <path
        d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22">
    </path>
</svg>
    </a>
    <a href="index.xml" target="_blank" rel="noopener noreferrer me" title="Rss">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
    stroke-linecap="round" stroke-linejoin="round">
    <path d="M4 11a9 9 0 0 1 9 9" />
    <path d="M4 4a16 16 0 0 1 16 16" />
    <circle cx="5" cy="19" r="1" />
</svg>
    </a>
</div>

    </footer>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>C使用泰勒展开实现sinx
    </h2>
  </header>
  <div class="entry-content">
    <p>一、sinx泰勒展开的C实现 1.sinx泰勒展开公式 sinx的泰勒展开如下： $$ sinx = x - \frac{x^3}{3!} &#43; \frac{x^5}{5!} - \frac{x^7}{7!} &#43; … &#43; \frac{(-1)^n}{(2n &#43; 1)!}x^{2n&#43;1} $$
其中n从0开始计算，我采用的公式形态上是x=0处的泰勒展开。实际上我们可以把x写成$x = x &#43; x_0$来实现$x=x_0$处的展开
2.C实现sinx泰勒展开 我们通过控制精度来控制展开项数，并且我们只考虑$0-2\pi$的范围，归一化处理我们之后再详细考虑，通过泰勒展开公式我们的C程序如下，
#include &lt;math.h&gt; #define degree 1e-2 float fun_sin(float x) { float res, term; int i; int factor; // 阶乘 term = x; // 每一项的结果 factor = 1; res = term; for (i = 1; fabs(term) &gt; degree; i&#43;&#43;) { factor *= (2 * i) * (2 * i &#43; 1); term = pow(-1, i) * pow(x, 2 * i &#43; 1) / factor; res &#43;= term; } return res; } 上面的代码基本是严格按照公式计算的，可惜的是它并不能正常工作，这涉及到计算阶乘时整数溢出的问题。当输入比较小，比如0....</p>
  </div>
  <footer class="entry-footer"><span title='2024-09-04 00:00:00 +0000 UTC'>2024-09-04</span>&nbsp;·&nbsp;xqc</footer>
  <a class="entry-link" aria-label="post link to C使用泰勒展开实现sinx" href="https://againwq.github.io/posts/linux_c/c%E5%AE%9E%E7%8E%B0sinx%E5%B9%B6%E4%BC%98%E5%8C%96/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>5G知识点补充
    </h2>
  </header>
  <div class="entry-content">
    <p>5G知识点补充 5G系统间消息 系统间消息分类 在5G系统中，系统消息可分为三大类(有的地方是两类, MSI和OSI)：
Minimum System Information (MSI) –最小系统消息 包括MIB和SIB1 Remaining Minimum System Information (RMSI) –剩余最小系统消息 只有SIB1 Other System Information (OSI)–其他系统消息 SIB2 ~ SIB9 系统消息传输 发送时，MIB通过RRC消息MasterInformationBlock发送 SIB1通过RRC消息SystemInformationBlock1发送 而SIB2~SIB9封装在称为RRC消息SystemInformation中，并且在SystemInformation消息中具体封装哪些SIB是可配置的，不同小区可配置不同的值。 发送时，MSI被周期性地广播，周期固定。(必须通过广播) OSI的发送方式有两种：一，周期广播，二，动态发送， UE开机接入NR小区后，MIB和SIB1是一定会解读的，而SIB2~9的内容是否需要解读以及何时解读取决于小区配置
系统消息具体参数 MIB 调制方式QPSK 发送周期80ms 传输信道BCH(映射到PBCH) 获取方式: 小区搜索过程解码PSS和SSS计算出PCI解码MIB 内容: SIB1解码需要的内容(CORESET0)和PDCCH的Search Space, 系统帧号(SFN)、半帧指示、SCS、小区禁止信息 SIB1 传输信道DL-SCH(映射到PDSCH)(PDSCH需要PDCCH调度才能用) 发送周期160ms, SIB1在DL-SCH上以160ms的总传输周期和160ms内的可变传输重复周期(默认20ms)发送. 内容: 小区选择信息、PLMN、TAC、小区标识、RAN通知信息、OSI的SI调度信息、服务小区信息 SIB2: 同频、异频、异系统内小区重选公共参数, 服务频点小区重选相关信息 SIB3: 同频小区重选的邻小区参数 SIB4: 异频小区重选的邻小区参数 SIB5: 异系统小区重选的邻小区参数 5G的MCG和SCG 这个概念是在**EN-DC(双连接场景,即NSA option3场景,终端需要同时连4G与5G网络)**才有的
双连接概念 EN-DC就是指4G无线接入网与5G NR的双连接(option3, 4G核心网, 4G基站为MN(主节点), 5G基站为SN(辅节点)) NE-DC指5G NR与4G无线接入网的双连接(option4, 5G核心网) NGEN-DC指在5G核心网下的4G无线接入网与5G NR的双连接(option7) MCG与SCG MCG: 主小区组, 下面有PCell(主小区), SCell(辅小区) SCG: 辅小区组, 下面有PSCell(主辅小区), SCell(辅小区) 同一组的不同的小区通过**CA技术(载波聚合)**联合在一起 用于发起初始接入的小区，这个小区称为PCell 车联网知识 频段: 5905 ~ 5925MHz V2X分为两种, DSRC和C-V2X...</p>
  </div>
  <footer class="entry-footer"><span title='2024-04-18 00:00:00 +0000 UTC'>2024-04-18</span>&nbsp;·&nbsp;xqc</footer>
  <a class="entry-link" aria-label="post link to 5G知识点补充" href="https://againwq.github.io/posts/%E5%A4%A7%E5%94%90%E6%9D%AF/5g%E7%9F%A5%E8%AF%86%E7%82%B9%E8%A1%A5%E5%85%85/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>5G物理层过程
    </h2>
  </header>
  <div class="entry-content">
    <p>5G物理层过程概述 物理层,即PHY层
物理层主要功能 物理信道调制与解调 频率与时间同步 无线特征测量, 并向高层提供指示 MIMI天线处理 物理射频处理 5G的NR帧结构 见物理信道与信号那一篇
5G 帧结构配置 半静态配置: RRC配置, 小区专用与UE专用两种方式 动态配置: DCI(上行信道信息)配置, 使用SFI(时隙格式指示)和DCI调度两种方式 支持不同周期的配置 支持双周期配置 具体见物理信道与信号那一篇
物理层资源 基本时间为Tc = 1 / (f * N), 4G是其64倍
天线端口 小区搜索 PCI = PSS &#43; 3 * SSS 获得PCI可以得到DMRS(解调参考信号)以解调PBCH信道 MIB消息在PBCH上传输 SIB1消息在PDCCH和PDSCH上传输 PLMN PLMN分为手动和自动模式
频点选择 根据栅格计算频点
小区搜索 PSS 3条长度为127的伪随机序列,采用BPSK M序列 中间连续127个子载波, 两侧加8和9个保护间隔, 共144个子载波 PSS提供的计算PCI的N取值0,1,2 SSS 336条长度为127的伪随机序列,采用BPSK M序列 中间连续127个子载波, 两侧加8和9个保护间隔, 共144个子载波 SSS提供的计算PCI的N取值0 ~ 355 PCI PCI是物理小区ID, NR中,总共有1008个物理层小区ID UE获取PCI后, 解调DMRS for PBCH, 获取SSB的位置索引 PSS和SSS资源位置 PSS、SSS和PBCH构成SSB PSS、SSS、和PBCH公用天线端口号P=4000 SSB的子载波间隔不能取μ=2,即60KHz, μ=0,1为typeA, μ=3,4为typeB SSB最长符号数可取4,8,64(一个半帧内5ms, typeA) SSB周期: 5ms, 10ms, 20ms, 40ms, 80ms, 160ms 在初始小区搜索过程中,终端假定SSB周期为20ms SSB详细见物理信道与信号 小区选择和重选 小区选择 概述 UE在RRC_IDLE和RRC_INACTIVATE状态下进行 UE需要先完成PLMN的选择(小区搜索的部分), 在已选择的PLMN上选择合适的小区,获取合适的服务,监听控制信道,这个过程即小区选择过程 根据小区重选准则, UE寻找其他更合适的小区进行小区重选,重选后的小区若不属于UE已注册的TAC列表内,UE需要发起位置登记 小区禁止参数在MIB中给出(cellBarred) 小区预留参数在SIB1中给出(cellReservedForOperatorUse) 小区选择策略 UE先通过小区测量,测量波束强度再进行小区选择 多波束情况下,UE根据检测到的SSB最大波束测量值与门限对比,若大于门限值,则选择这个最强波束的小区,否则对检测到的所有最强波束进行线性平均,作为小区的最终测量值 相比于4G, 5G小区选择多了一个Qoffsettemp参数 小区重选 小区重选过程 小区重选是根据**频点优先级(SSB的频点优先级,0 ~ 7)**进行重选的 频点优先级获取方式: 系统消息和专用信令(如RRC Release消息) 重选流程: 重选参数获取 -&gt; 邻区启测判决 -&gt; 小区重选判决 重选参数获取 注: 只有SIB系统消息,没有MIB系统消息...</p>
  </div>
  <footer class="entry-footer"><span title='2024-04-17 00:00:00 +0000 UTC'>2024-04-17</span>&nbsp;·&nbsp;xqc</footer>
  <a class="entry-link" aria-label="post link to 5G物理层过程" href="https://againwq.github.io/posts/%E5%A4%A7%E5%94%90%E6%9D%AF/5g%E7%89%A9%E7%90%86%E5%B1%82%E8%BF%87%E7%A8%8B/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>5G网络架构及组网部署
    </h2>
  </header>
  <div class="entry-content">
    <p>5G网络架构 5G网络架构概述 5G移动通信系统包括5GC(5G核心网)和NG-RAN(无线接入网) ng-eNB: 增强型4G基站,可完成部分5G功能 gNB: 5G基站(对应4G中的eNB) Xn接口: 基站间接口(对应4G中的X2接口),传输数据和信令 NG接口: 接入网网元接入到核心网的接口(对应4G中的S1接口) 5G核心网网元: AMF, UPF, SMF AAU: RRU(射频单元) &#43; 天线 CU和DU: CU是集中单元,DU是分布单元,CU、DU可以集中部署也可以分开部署 5G基站 = CU &#43; DU &#43; AAU,但是CU一般集中部署在靠近5GC的位置,AAU部署在靠近UE端的位置
核心网和接入网的架构演进 核心网架构演进 接入网架构演进 需要注意5G中接入网各个网元与协议栈对应关系
CU: RRC层 &#43; PDCP层 DU: RLC层 &#43; MAC层 &#43; 部分PHY层 AAU: 部分PHY层 5G网元功能及其接口 5G网元以及接口表示 点对点接口表示(N1,N2,N3 ….) 服务接口表示(基于服务的接口表示,Nnssf,Nnef…) CU与DU CU可以分为CU-C(控制面)与CU-U(用户面) CU与DU之间的接口是F1接口 CU-C与CU-U之间的接口是E1接口 CU包含RRC层与PDCP层, CU-C包含RRC与PDCP的控制面功能,CU-U就包含PDCP的用户面功能 CU与DU的协议栈划分:
CU占的协议栈越多,越方便控制面集中,集中化调度性能提升,但是传输带宽会升高,时延要求也更高(要求时延越低) 3GPP标准划分方案为Option2,将PDCP划分到CU中,PDCP上移容易形成数据锚点,便于支持双链接/单连接 5G主要网元功能 UFP
gNB间切换的本地移动锚点 连接到移动通信网络外部的PDU会话点 用户数据包的路由与转发 对用户的Qos流的映射与处理 SMF
PDU会话的建立与删除 UE IP地址的分配 选择控制用户控制面功能(选择UPF) Qos的策略与控制 AMF...</p>
  </div>
  <footer class="entry-footer"><span title='2024-04-16 00:00:00 +0000 UTC'>2024-04-16</span>&nbsp;·&nbsp;xqc</footer>
  <a class="entry-link" aria-label="post link to 5G网络架构及组网部署" href="https://againwq.github.io/posts/%E5%A4%A7%E5%94%90%E6%9D%AF/5g%E7%BD%91%E7%BB%9C%E6%9E%B6%E6%9E%84%E4%B8%8E%E7%BB%84%E7%BD%91%E9%83%A8%E7%BD%B2/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>5G无线网络技术
    </h2>
  </header>
  <div class="entry-content">
    <p>5G无线网络技术 5G概述 5G三大业务场景 eMBB: 增强移动带宽场景、连续广域覆盖场景、热点高容量场景、大带宽、高速率、大容量、高覆盖 mMTC: 大连接场景 uRLLC: 低时延、高可靠场景 5G八大关键指标 5G技术点: 移动互联网 &#43; 移动物联网
5G空口技术框架 5G网络架构 5G网络划分为接入平面、控制平面、转发平面
接入平面: 统一的多无线接入技术融合、无线资源调度与共享 控制平面: 控制集中化、简单化, 服务差异化、开放化 转发平面: 用户面下沉分布式网关、移动边缘内容与计算 具体看5G网络架构与组网部署的笔记
大规模天线(Massive MIMO) 主要解决5G的覆盖范围和容量问题
大规模天线: 大量天线为相对少的用户提供同传服务
大规模天线概述 5G中天线有水平波束和垂直波束的概念, 4G中没有垂直波束的概念
大规模天线的技术优势
大规模天线的几种增益
阵列增益 分集增益 空间复用增益 干扰抑制增益 波束赋形 对于下行MIMO: 区分数据流,使用DMRS信号(解调参考信号) 对于上行MIMO: 区分用户, 使用DMRS信号(解调参考信号) 波束扫描 在下行过程中, 基站依次使用不同指向的波束发射无线信号,该过程被称作波束扫描, 与此同时,用户测量不同波束发射出的无线信号, 并向基站报告相关信息,基站根据用户报告确定对准该用户的最佳发射波束
为了快速对准波束, 5G标准采取了分级扫描的策略,即由宽到窄扫描
波束恢复 PRACH信号是随机接入过程中的信号
大规模天线的应用场景 热点场景 大型公共集会 3D覆盖场景 UDN技术(超密集网络部署) 增加单位面积内小基站的密度, 可以改善网络覆盖, 提高系统容量(提升容量和连接数)
UDN关键技术 干扰抑制与管理: 使用DMIMO技术(分布式MIMO)和 Small cell on/off技术(关闭没有用户连接或无需提供额外容量的小小区) 移动性管理: 使用虚拟层技术(把密集部署的小基站构建虚拟多层网络, 分为虚拟层和实体层)和软扇区技术(解决UDN难以部署的问题) 联合传输与反馈 UDN应用场景...</p>
  </div>
  <footer class="entry-footer"><span title='2024-04-16 00:00:00 +0000 UTC'>2024-04-16</span>&nbsp;·&nbsp;xqc</footer>
  <a class="entry-link" aria-label="post link to 5G无线网络技术" href="https://againwq.github.io/posts/%E5%A4%A7%E5%94%90%E6%9D%AF/5g%E6%97%A0%E7%BA%BF%E6%8A%80%E6%9C%AF%E5%8F%8A%E5%BA%94%E7%94%A8/"></a>
</article>
<footer class="page-footer">
  <nav class="pagination">
    <a class="next" href="https://againwq.github.io/page/2/">下一页&nbsp;&nbsp;»
    </a>
  </nav>
</footer>
    </main>
    
<footer class="footer">
    <span>&copy; 2024 <a href="https://againwq.github.io">徐乾朝的博客</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
