<!DOCTYPE html>
<html lang="zh" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>5G物理信号与信道 | Again&#39;s Blog</title>
<meta name="keywords" content="大唐杯">
<meta name="description" content="5G物理信道与信号 5G时频域概念 名词解释 CC: 载波, 1个载波可以配置1个或多个BWP BWP: 部分带宽,1个BWP包括n个RB或RBG RBG: 一个RBG等于2,4,8,16个RB,是数据信道PDSCH调度的基本单位 RB: 1个RB等于12个子载波,是数据信道PUSCH调度的基本单位 SCS: 子载波间隔的频率(不是子载波) CCE: 控制信道资源的组成单位,一个CCE=6个REG, 一个PDCCH包含几个CCE, 由聚合等级1,2,4,8,16共5种决定 REG: 控制信道资源分配的基本单位, 频域上1个REG=12个RE,即12个子载波(REG类似于RB), 时域上是1个符号 5G频段介绍 FR1频段: 410MHz &ndash; 7125MHz(Sub6G) FR2频段: 24250MHz &ndash; 52600MHz(毫米波) 与4G相比,取消了1.4M和3MHz的带宽
注意图中标注的几个频段n28, n41, n79
5G信道带宽的结构 保护带宽 传输带宽 保护带宽 最大传输带宽 注: FR1和FR2都支持的传输带宽的SCS为 60KHz
最小保护带宽 双工方式 TDD: 时分双工, 上下行频段相同 FDD: 频分双工, 上下行频段不同 SDL: 补充下行频段, 只有下行频段 SUL: 补充上行频段, 只有上行频段 SDL和SUL频段只能做下行或者上行，因此不能独立工作，仅作为辅助频段，这些频段的频率较低，覆盖性能较好，可用来弥补上下行覆盖的不足。
工信部分配频段 5G频域资源 BWP 全称Bandwidth Part, 是整个带宽上的一个子集,每个BWP的大小,以及使用的SCS和CP(循环前缀)都可以灵活配置
DL和UL分别最多可以配置4个专有BWP BWP的带宽必须大于等于SSB,但是BWP中不一定包含SSB 对同一个UE来说,DL或UL同一时刻只能有一个BWP处于激活状态 BWP分为四类,分别是初始BWP, 专用BWP, 激活BWP(UE指定), 默认BWP(UE指定)">
<meta name="author" content="xqc">
<link rel="canonical" href="https://againwq.github.io/posts/%E5%A4%A7%E5%94%90%E6%9D%AF/5g%E7%89%A9%E7%90%86%E4%BF%A1%E9%81%93%E4%B8%8E%E4%BF%A1%E5%8F%B7/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.54840a39f352dd1226fb566b940f4396c306c178f35053fd8eb1adf7a6af72eb.css" integrity="sha256-VIQKOfNS3RIm&#43;1ZrlA9DlsMGwXjzUFP9jrGt96avcus=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://againwq.github.io/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://againwq.github.io/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://againwq.github.io/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://againwq.github.io/apple-touch-icon.png">
<link rel="mask-icon" href="https://againwq.github.io/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>


<link rel="icon" href="/avatar.png">

<script defer crossorigin="anonymous" src="/assets/js/extended/custom.js"></script><meta property="og:title" content="5G物理信号与信道" />
<meta property="og:description" content="5G物理信道与信号 5G时频域概念 名词解释 CC: 载波, 1个载波可以配置1个或多个BWP BWP: 部分带宽,1个BWP包括n个RB或RBG RBG: 一个RBG等于2,4,8,16个RB,是数据信道PDSCH调度的基本单位 RB: 1个RB等于12个子载波,是数据信道PUSCH调度的基本单位 SCS: 子载波间隔的频率(不是子载波) CCE: 控制信道资源的组成单位,一个CCE=6个REG, 一个PDCCH包含几个CCE, 由聚合等级1,2,4,8,16共5种决定 REG: 控制信道资源分配的基本单位, 频域上1个REG=12个RE,即12个子载波(REG类似于RB), 时域上是1个符号 5G频段介绍 FR1频段: 410MHz &ndash; 7125MHz(Sub6G) FR2频段: 24250MHz &ndash; 52600MHz(毫米波) 与4G相比,取消了1.4M和3MHz的带宽
注意图中标注的几个频段n28, n41, n79
5G信道带宽的结构 保护带宽 传输带宽 保护带宽 最大传输带宽 注: FR1和FR2都支持的传输带宽的SCS为 60KHz
最小保护带宽 双工方式 TDD: 时分双工, 上下行频段相同 FDD: 频分双工, 上下行频段不同 SDL: 补充下行频段, 只有下行频段 SUL: 补充上行频段, 只有上行频段 SDL和SUL频段只能做下行或者上行，因此不能独立工作，仅作为辅助频段，这些频段的频率较低，覆盖性能较好，可用来弥补上下行覆盖的不足。
工信部分配频段 5G频域资源 BWP 全称Bandwidth Part, 是整个带宽上的一个子集,每个BWP的大小,以及使用的SCS和CP(循环前缀)都可以灵活配置
DL和UL分别最多可以配置4个专有BWP BWP的带宽必须大于等于SSB,但是BWP中不一定包含SSB 对同一个UE来说,DL或UL同一时刻只能有一个BWP处于激活状态 BWP分为四类,分别是初始BWP, 专用BWP, 激活BWP(UE指定), 默认BWP(UE指定)" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://againwq.github.io/posts/%E5%A4%A7%E5%94%90%E6%9D%AF/5g%E7%89%A9%E7%90%86%E4%BF%A1%E9%81%93%E4%B8%8E%E4%BF%A1%E5%8F%B7/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-04-16T00:00:00+00:00" />
<meta property="article:modified_time" content="2024-04-16T00:00:00+00:00" />
<meta property="og:see_also" content="https://againwq.github.io/posts/%E5%A4%A7%E5%94%90%E6%9D%AF/5g%E7%9F%A5%E8%AF%86%E7%82%B9%E8%A1%A5%E5%85%85/" /><meta property="og:see_also" content="https://againwq.github.io/posts/%E5%A4%A7%E5%94%90%E6%9D%AF/5g%E7%89%A9%E7%90%86%E5%B1%82%E8%BF%87%E7%A8%8B/" /><meta property="og:see_also" content="https://againwq.github.io/posts/%E5%A4%A7%E5%94%90%E6%9D%AF/5g%E7%BD%91%E7%BB%9C%E6%9E%B6%E6%9E%84%E4%B8%8E%E7%BB%84%E7%BD%91%E9%83%A8%E7%BD%B2/" /><meta property="og:see_also" content="https://againwq.github.io/posts/%E5%A4%A7%E5%94%90%E6%9D%AF/5g%E6%97%A0%E7%BA%BF%E6%8A%80%E6%9C%AF%E5%8F%8A%E5%BA%94%E7%94%A8/" /><meta property="og:see_also" content="https://againwq.github.io/posts/%E5%A4%A7%E5%94%90%E6%9D%AF/5g%E4%BF%A1%E4%BB%A4%E4%B8%8E%E5%8D%8F%E8%AE%AE/" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="5G物理信号与信道"/>
<meta name="twitter:description" content="5G物理信道与信号 5G时频域概念 名词解释 CC: 载波, 1个载波可以配置1个或多个BWP BWP: 部分带宽,1个BWP包括n个RB或RBG RBG: 一个RBG等于2,4,8,16个RB,是数据信道PDSCH调度的基本单位 RB: 1个RB等于12个子载波,是数据信道PUSCH调度的基本单位 SCS: 子载波间隔的频率(不是子载波) CCE: 控制信道资源的组成单位,一个CCE=6个REG, 一个PDCCH包含几个CCE, 由聚合等级1,2,4,8,16共5种决定 REG: 控制信道资源分配的基本单位, 频域上1个REG=12个RE,即12个子载波(REG类似于RB), 时域上是1个符号 5G频段介绍 FR1频段: 410MHz &ndash; 7125MHz(Sub6G) FR2频段: 24250MHz &ndash; 52600MHz(毫米波) 与4G相比,取消了1.4M和3MHz的带宽
注意图中标注的几个频段n28, n41, n79
5G信道带宽的结构 保护带宽 传输带宽 保护带宽 最大传输带宽 注: FR1和FR2都支持的传输带宽的SCS为 60KHz
最小保护带宽 双工方式 TDD: 时分双工, 上下行频段相同 FDD: 频分双工, 上下行频段不同 SDL: 补充下行频段, 只有下行频段 SUL: 补充上行频段, 只有上行频段 SDL和SUL频段只能做下行或者上行，因此不能独立工作，仅作为辅助频段，这些频段的频率较低，覆盖性能较好，可用来弥补上下行覆盖的不足。
工信部分配频段 5G频域资源 BWP 全称Bandwidth Part, 是整个带宽上的一个子集,每个BWP的大小,以及使用的SCS和CP(循环前缀)都可以灵活配置
DL和UL分别最多可以配置4个专有BWP BWP的带宽必须大于等于SSB,但是BWP中不一定包含SSB 对同一个UE来说,DL或UL同一时刻只能有一个BWP处于激活状态 BWP分为四类,分别是初始BWP, 专用BWP, 激活BWP(UE指定), 默认BWP(UE指定)"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "系列",
      "item": "https://againwq.github.io/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  4 ,
      "name": "5G物理信号与信道",
      "item": "https://againwq.github.io/posts/%E5%A4%A7%E5%94%90%E6%9D%AF/5g%E7%89%A9%E7%90%86%E4%BF%A1%E9%81%93%E4%B8%8E%E4%BF%A1%E5%8F%B7/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "5G物理信号与信道",
  "name": "5G物理信号与信道",
  "description": "5G物理信道与信号 5G时频域概念 名词解释 CC: 载波, 1个载波可以配置1个或多个BWP BWP: 部分带宽,1个BWP包括n个RB或RBG RBG: 一个RBG等于2,4,8,16个RB,是数据信道PDSCH调度的基本单位 RB: 1个RB等于12个子载波,是数据信道PUSCH调度的基本单位 SCS: 子载波间隔的频率(不是子载波) CCE: 控制信道资源的组成单位,一个CCE=6个REG, 一个PDCCH包含几个CCE, 由聚合等级1,2,4,8,16共5种决定 REG: 控制信道资源分配的基本单位, 频域上1个REG=12个RE,即12个子载波(REG类似于RB), 时域上是1个符号 5G频段介绍 FR1频段: 410MHz \u0026ndash; 7125MHz(Sub6G) FR2频段: 24250MHz \u0026ndash; 52600MHz(毫米波) 与4G相比,取消了1.4M和3MHz的带宽\n注意图中标注的几个频段n28, n41, n79\n5G信道带宽的结构 保护带宽 传输带宽 保护带宽 最大传输带宽 注: FR1和FR2都支持的传输带宽的SCS为 60KHz\n最小保护带宽 双工方式 TDD: 时分双工, 上下行频段相同 FDD: 频分双工, 上下行频段不同 SDL: 补充下行频段, 只有下行频段 SUL: 补充上行频段, 只有上行频段 SDL和SUL频段只能做下行或者上行，因此不能独立工作，仅作为辅助频段，这些频段的频率较低，覆盖性能较好，可用来弥补上下行覆盖的不足。\n工信部分配频段 5G频域资源 BWP 全称Bandwidth Part, 是整个带宽上的一个子集,每个BWP的大小,以及使用的SCS和CP(循环前缀)都可以灵活配置\nDL和UL分别最多可以配置4个专有BWP BWP的带宽必须大于等于SSB,但是BWP中不一定包含SSB 对同一个UE来说,DL或UL同一时刻只能有一个BWP处于激活状态 BWP分为四类,分别是初始BWP, 专用BWP, 激活BWP(UE指定), 默认BWP(UE指定)",
  "keywords": [
    "大唐杯"
  ],
  "articleBody": "5G物理信道与信号 5G时频域概念 名词解释 CC: 载波, 1个载波可以配置1个或多个BWP BWP: 部分带宽,1个BWP包括n个RB或RBG RBG: 一个RBG等于2,4,8,16个RB,是数据信道PDSCH调度的基本单位 RB: 1个RB等于12个子载波,是数据信道PUSCH调度的基本单位 SCS: 子载波间隔的频率(不是子载波) CCE: 控制信道资源的组成单位,一个CCE=6个REG, 一个PDCCH包含几个CCE, 由聚合等级1,2,4,8,16共5种决定 REG: 控制信道资源分配的基本单位, 频域上1个REG=12个RE,即12个子载波(REG类似于RB), 时域上是1个符号 5G频段介绍 FR1频段: 410MHz – 7125MHz(Sub6G) FR2频段: 24250MHz – 52600MHz(毫米波) 与4G相比,取消了1.4M和3MHz的带宽\n注意图中标注的几个频段n28, n41, n79\n5G信道带宽的结构 保护带宽 传输带宽 保护带宽 最大传输带宽 注: FR1和FR2都支持的传输带宽的SCS为 60KHz\n最小保护带宽 双工方式 TDD: 时分双工, 上下行频段相同 FDD: 频分双工, 上下行频段不同 SDL: 补充下行频段, 只有下行频段 SUL: 补充上行频段, 只有上行频段 SDL和SUL频段只能做下行或者上行，因此不能独立工作，仅作为辅助频段，这些频段的频率较低，覆盖性能较好，可用来弥补上下行覆盖的不足。\n工信部分配频段 5G频域资源 BWP 全称Bandwidth Part, 是整个带宽上的一个子集,每个BWP的大小,以及使用的SCS和CP(循环前缀)都可以灵活配置\nDL和UL分别最多可以配置4个专有BWP BWP的带宽必须大于等于SSB,但是BWP中不一定包含SSB 对同一个UE来说,DL或UL同一时刻只能有一个BWP处于激活状态 BWP分为四类,分别是初始BWP, 专用BWP, 激活BWP(UE指定), 默认BWP(UE指定)\nBWP的四种切换情形:\n伴随数据调度的DCI指示的快速切换 RRC(重)配置: 从initial BWP到first active BWP的切换 基于timer的长时间没有业务调度的切换 UE再随机接入过程中,如果active BWP内没有PRACH资源,则自动切换到initial BWP RBG(资源块组) 一个RBG等于2,4,8,16个RB,与BWP的大小有关 RBG用于type0(BitMap, 通过Bit位来确定有无资源块)类型资源配置, type1类型资源配置用到RIV RIV的方式就是指定起始位置和长度 RB RB可以分为CRB和PRB\nCRB: 公共资源块 PRB: 物理资源块, 一个PRB是第几个CRB依赖于 NBWP,istart PointA参考点\n子载波间隔(SCS) μ SCS: f=2μ * 15(kHz) CP(循环前缀) RB带宽(12 * f) 时域 支持物理信道(PDSCH,PUSCH等) 支持同步信道(PSS, SSS, PBCH) 0 15 Normal(14) 180 1ms/时隙 Yes Yes 1 30 Normal(14) 360 0.5ms/时隙 Yes Yes 2 60 Normal(14), Extended(12) 720 0.25ms/时隙 Yes No 3 120 Normal(14) 1440 0.125ms/时隙 Yes Yes 4 240 Normal(14) 2880 0.0625ms/时隙 No Yes 不同SCS大小适合的场景\n5G时域资源 时域帧 无线帧: 10ms 10ms 半帧: 5ms 5ms 5ms 子帧: 1ms 1ms 1ms 1ms 1ms 1ms 时隙 一个子帧包含2μ个时隙(μ取0,1,2,3,4) 例: SCS=30KHz, 即μ=1一个子帧包含2个时隙,每个时隙0.5ms\n符号(根据循环前缀(CP)决定) 普通CP: 一个时隙包含14个符号 扩展CP: 一个时隙包含12个符号\n帧结构 中国移动 用的是5ms双周期(特殊子帧6:4:4) 中国电信和联通 用的是2.5ms双周期(特殊子帧10:2:2)\n帧结构配置 系统消息SIB1消息会在信令中下发帧结构配置,配置结构为:\ndl-UL-TransmissionPeriodicity: 指定配置结构(5ms单周期或2.5ms双周期) 配置四元组: (下行时隙数(D),下行符号,上行时隙数(U),上行符号数), 以5ms单周期为例(7,6,2,4),则上行时隙2个,下行时隙7个,则特殊时隙S = 10-7-2 = 1个,S时隙中包含下行符号6个,上行符号4个,则GP符号为14-6-4=4个 自包含帧结构(uRLLC场景) 根据场景需要适配不同的帧结构\n5G下行物理信道与信号 概览 下行信道\nPBCH: 广播信道(QPSK调制, Polar编码) PDCCH: 下行控制信道(QPSK调制) PDSCH: 下行共享信道(QPSK或16,24,256QAM) 下行信号\nPSS/SSS: 主同步信号和辅同步信号 DM-RS: 解调参考信号 CSI-RS: 信道状态信息参考信号 PT-RS: 信道相位信息参考信号 SSB 基本概念 PSS(主同步信号)与SSS(辅同步信号)和PBCH共同构成一个SSB(SS/PBCH block)\n时域: 占用4个OFDM符号 频域: 共占用240个子载波(20个PRB)(具体大小与子载波间隔有关) PBCH中含有DM-RS DM-RS在PBCH频域上均匀分布,每隔4个子载波有一个DM-RS,DM-RS根据PCI(物理小区ID,0~355) (mod 4)得到在PBCH的起始位置(那么接下来所有位置都知道了),而PCI是在PSS和SSS得到的 PCI = N2ID(PSS得到) + 3 * N1ID(SSS得到)\nSSB的频域位置 KSSB: 低4bit来源于MIB(系统消息), 高4位来源于PBCH OffsetToPointA: 来源于SIB(系统消息) SSB的时域位置 SSB有多种不同的模式(Pattern): Case A, Case B, Case C, Case D…\n如图所示的Case C, 在2.4GHz以内, 一个半帧(5ms)最多发4个SSB(OFDM 符号), 在大于2.4GHz部分,一个半帧(5ms)最多发8个SSB(OFDM 符号).\nPDCCH信道(下行控制信道, Polar编码, QPSK调制) 主要承载DCI(Downlink Control Information, 下行控制信息).\nPDCCH的时频域确定 NR将PDCCH占用的频域与时域占用的OFDM符号数封装在CORESET中; 将PDCCH起始OFDM符号编号以及PDCCH监测周期等信息封装在Search Space CORESET 1 CCE = 6 REG 1 REG = 1 PRB(RB) 1 REG = 12 RE = 12 子载波(频域) = 1 OFDM 符号(时域) PDCCH聚合等级 PDCCH的聚合等级决定PDCCH包含多少个CCE(1,2,4,8,16)\nUE特定数据的聚合等级为: 1,2,4,8,16 用于资源分配的聚合等级:4,8,16 PDCCH盲检(检测PDCCH的起始位置) 按照聚合度等级从小到大检测\nSearch Space(搜索空间) Search Space分为CSS(公共搜索空间)和USS(终端搜索空间)\nPDSCH信道(下行共享信道) PDSCH时域资源 PDSCH在时域上的分配可以动态变化, 粒度可以到符号级\ntypeA: 起始位置(S)靠前,符号数(L)较多(基于时隙的调度) typeB: 起始位置任意, 符号数较少(适用于低时延的场景) 如图所示(typeA和typeB)\nSLIV负责告诉终端S和L的配置\nPDSCH的频域资源分配 PDSCH支持type0和type1的频域分配\nPDSCH的DMRS时频域分配 时域分配 TypeA类型: 第一个DMRS符号位于时隙中第二个或第三个符号 TypeB类型: 第一个DMRS符号位于分配的PDSCH的第一个符号位置(比较灵活) 针对高速移动的场景,TypeA可以采用附加DMRS的方式提高解调性能, 每个时隙最多配置4个DMRS, 1个前置DMRS和3个附加DMRS(单符号最多配3个附加DMRS,双符号最多配1个附加DMRS)\n频域分配 Type类型由DL-DMRS-Config-Type配置, 默认Type1\nType1: 单符号支持4用户,双符号支持8用户,使用2个CDM组(码分组), 每个端口上DMRS密度为6子载波/PRB Type2: 单符号支持6用户, 双符号支持12用户,使用3个CDM组, 每个端口上DMRS密度为4子载波/PRB(比type1小) CSI-RS(信道状态信息参考信号) 在3GPP 10版本引入, 主要用于获取下行信道状态\nCSI-RS上报模式 CSI-RS上报模式\n周期性上报: 只能用1, 即只能用周期性上报 非周期性上报: 可以用1, 2, 3 半持续上报: 可以用1, 3 CDM-Type(CSI-RS资源映射的码分复用) 不同类型可以复用1, 2, 4, 8个端口(用户)\n5G上行物理信道与信号 物理信道\nPRACH: 随机接入信道 PUCCH: 上行控制信道(QPSK调制) PUSCH: 上行共享信道(QPSK或16,24,256QAM) 物理信号\nSRS: 探测参考信号 DM-RS: 解调参考信号(与下行信道相同) PT-RS: 信道相位信息参考信号(与下行信道相同) PRACH信道(随机接入信道) 主要用于发送随机接入时的前导码(preamble)\n前导码 每个小区只会选择一种前导码用作初始接入, 一个PRACH信道包含64个前导码, 前导码由ZC序列构成\n长格式前导码(长度839) format用数字(0,1,2,3)表示 支持1.25KHz和5KHz两种频率(与之前的子载波间隔区分开) Format1支持最大的覆盖范围 Format0常用于FR1频段 短格式前导码(长度139) format用字母加数字表示(A1,A2,B1,B2,….) 短格式前导码覆盖范围比长格式小 f以子载波间隔(SCS)为准 比起长格式,频率普遍较高,时延普遍较低 注: 由于短前导码在时域上占用资源较少, 所以就导致一个slot(时隙)中可以存在多个PRACH资源的情况\nPRACH时域资源 通过PRACH配置索引确定传输的PRACH的format、无线帧号、子帧号、时隙、符号等时域信息, 主要通过查表的方式\nPRACH频域资源 长格式前导码子载波间隔1.25KHz和5KHz两种频率 短格式前导码子载波间隔为15, 30, 60, 120(没有240)KHz\n起点与长度的确定\n长度: nRA 0 ~ M - 1(M为FDM,即频分的个数,可以取1, 2, 4, 8) 起点: nstartRA (PRACH的第一个RB索引), NstartBWP,i: (从PointA开始算,长度为上行激活的BWP) PUCCH(上行控制信道) 主要用于承载UCI(上行控制信息,与DCI对应)\nUCI 调度请求SR(SR用于向gNB申请资源以便进行PUSCH的传输) HARQ反馈(向gNB反馈PDSCH是否正确解码) 信道状态信息CSI(CQI,信道质量指示0~15, PMI等) 注意: UCI可以在PUCCH或PUSCH上传, 但是DCI只能在PDCCH上传\nPUCCH时频资源 PUCCH支持半静态和动态资源分配\n半静态: 高层RRC信令直接配置一个资源, 同时配置一个周期和周期内偏移 动态: 高层RRC信令配置1个或多个PUCCH资源集合, 每个资源集合包含多个PUCCH资源, UE收到下行调度信息后, 会根据DCI中指示的PUCCH resource indicator在1个PUCCH资源集合中找到一个确定的资源 PUCCH有5种格式,format(0, 1, 2, 3, 4).\n格式 时域符号数 频域资源 UCI信息 说明 format0 1~2个OFDM符号 占用1个RB的12个子载波 1~2bit UCI信息 1bit UCI信息时,复用6个用户,2bit时复用3个用户 format1 4~14个OFDM符号 占用1个RB的12个子载波 1~2bit UCI信息 UCI与DMRS间隔放置且DMRS占用的OFDM符号尽可能均分, 频域理论最大12个用户,实际最多复用6个用户. 1bit时BPSK调制, 2bit时QPSK调制 format2 1~2个OFDM符号 1~16个RB 大于2bit UCI DMRS在频域上所占的子载波索引为1,4,7…只支持QPSK调制, 不支持复用 format3 4~14个OFDM符号 N个RB, N=(1,2,3,4,5,6,8,9,10,12,15,16) 大于2bit UCI 只支持单用户(不支持复用),最多承载4608bit, 采用QPSK调制 format4 4~14个OFDM符号 占用1个RB的12个子载波 大于2bit UCI 复用能力为2或4 PUSCH(上行共享信道) PUSCH时域资源 与PDSCH类似\n都使用SLIV表示时域资源的起始符号(S)和长度(L) PUSCH也支持TypeA和TypeB 与PDSCH不同的是PUSCH的TypeB可以支持1~14个符号 PUSCH频域资源 与PDSCH类似\n支持基于Bitmap的位图分配(Type0) 支持基于RIV的分配(Type1) SRS(探测参考信号) 作用 评估上行的信道参数 上行波束管理 上行波束切换 时域发送方式 周期 半持续 非周期 注: SRS最多配置16个资源集,最多配置64个SRS资源\n",
  "wordCount" : "501",
  "inLanguage": "zh",
  "datePublished": "2024-04-16T00:00:00Z",
  "dateModified": "2024-04-16T00:00:00Z",
  "author":{
    "@type": "Person",
    "name": "xqc"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://againwq.github.io/posts/%E5%A4%A7%E5%94%90%E6%9D%AF/5g%E7%89%A9%E7%90%86%E4%BF%A1%E9%81%93%E4%B8%8E%E4%BF%A1%E5%8F%B7/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Again's Blog",
    "logo": {
      "@type": "ImageObject",
      "url": "https://againwq.github.io/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://againwq.github.io" accesskey="h" title="Again&#39;s Blog (Alt + H)">
                <img src="https://againwq.github.io/images/avatar.png" alt="" aria-label="logo"
                    height="35">Again&#39;s Blog</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://againwq.github.io/" title="Home">
                    <span>Home</span>
                </a>
            </li>
            <li>
                <a href="https://againwq.github.io/about/" title="About">
                    <span>About</span>
                </a>
            </li>
            <li>
                <a href="https://againwq.github.io/archives/" title="Archives">
                    <span>Archives</span>
                </a>
            </li>
            <li>
                <a href="https://againwq.github.io/posts/" title="Series">
                    <span>Series</span>
                </a>
            </li>
            <li>
                <a href="https://againwq.github.io/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
            <li>
                <a href="https://againwq.github.io/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://againwq.github.io">主页</a>&nbsp;»&nbsp;<a href="https://againwq.github.io/posts/">系列</a></div>
    <h1 class="post-title">
      5G物理信号与信道
    </h1>
    <div class="post-meta"><span title='2024-04-16 00:00:00 +0000 UTC'>2024-04-16</span>&nbsp;·&nbsp;xqc

</div>
  </header>
  <div class="tags-container">
    <ul class="post-tags">
      <li><a href="https://againwq.github.io/tags/%E5%A4%A7%E5%94%90%E6%9D%AF/">大唐杯</a></li>
    </ul>
  </div> <div class="toc">
    <details  open>
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">目录</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#5g%e7%89%a9%e7%90%86%e4%bf%a1%e9%81%93%e4%b8%8e%e4%bf%a1%e5%8f%b7" aria-label="5G物理信道与信号">5G物理信道与信号</a><ul>
                        
                <li>
                    <a href="#5g%e6%97%b6%e9%a2%91%e5%9f%9f%e6%a6%82%e5%bf%b5" aria-label="5G时频域概念">5G时频域概念</a><ul>
                        
                <li>
                    <a href="#%e5%90%8d%e8%af%8d%e8%a7%a3%e9%87%8a" aria-label="名词解释">名词解释</a></li>
                <li>
                    <a href="#5g%e9%a2%91%e6%ae%b5%e4%bb%8b%e7%bb%8d" aria-label="5G频段介绍">5G频段介绍</a><ul>
                        
                <li>
                    <a href="#5g%e4%bf%a1%e9%81%93%e5%b8%a6%e5%ae%bd%e7%9a%84%e7%bb%93%e6%9e%84" aria-label="5G信道带宽的结构">5G信道带宽的结构</a></li>
                <li>
                    <a href="#%e5%8f%8c%e5%b7%a5%e6%96%b9%e5%bc%8f" aria-label="双工方式">双工方式</a></li>
                <li>
                    <a href="#%e5%b7%a5%e4%bf%a1%e9%83%a8%e5%88%86%e9%85%8d%e9%a2%91%e6%ae%b5" aria-label="工信部分配频段">工信部分配频段</a></li></ul>
                </li>
                <li>
                    <a href="#5g%e9%a2%91%e5%9f%9f%e8%b5%84%e6%ba%90" aria-label="5G频域资源">5G频域资源</a><ul>
                        
                <li>
                    <a href="#bwp" aria-label="BWP">BWP</a></li>
                <li>
                    <a href="#rbg%e8%b5%84%e6%ba%90%e5%9d%97%e7%bb%84" aria-label="RBG(资源块组)">RBG(资源块组)</a></li>
                <li>
                    <a href="#rb" aria-label="RB">RB</a></li>
                <li>
                    <a href="#%e5%ad%90%e8%bd%bd%e6%b3%a2%e9%97%b4%e9%9a%94scs" aria-label="子载波间隔(SCS)">子载波间隔(SCS)</a></li></ul>
                </li>
                <li>
                    <a href="#5g%e6%97%b6%e5%9f%9f%e8%b5%84%e6%ba%90" aria-label="5G时域资源">5G时域资源</a><ul>
                        
                <li>
                    <a href="#%e6%97%b6%e5%9f%9f%e5%b8%a7" aria-label="时域帧">时域帧</a></li>
                <li>
                    <a href="#%e5%b8%a7%e7%bb%93%e6%9e%84" aria-label="帧结构">帧结构</a></li>
                <li>
                    <a href="#%e5%b8%a7%e7%bb%93%e6%9e%84%e9%85%8d%e7%bd%ae" aria-label="帧结构配置">帧结构配置</a></li>
                <li>
                    <a href="#%e8%87%aa%e5%8c%85%e5%90%ab%e5%b8%a7%e7%bb%93%e6%9e%84urllc%e5%9c%ba%e6%99%af" aria-label="自包含帧结构(uRLLC场景)">自包含帧结构(uRLLC场景)</a></li></ul>
                </li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#5g%e4%b8%8b%e8%a1%8c%e7%89%a9%e7%90%86%e4%bf%a1%e9%81%93%e4%b8%8e%e4%bf%a1%e5%8f%b7" aria-label="5G下行物理信道与信号">5G下行物理信道与信号</a><ul>
                        
                <li>
                    <a href="#%e6%a6%82%e8%a7%88" aria-label="概览">概览</a></li>
                <li>
                    <a href="#ssb" aria-label="SSB">SSB</a><ul>
                        
                <li>
                    <a href="#%e5%9f%ba%e6%9c%ac%e6%a6%82%e5%bf%b5" aria-label="基本概念">基本概念</a></li>
                <li>
                    <a href="#ssb%e7%9a%84%e9%a2%91%e5%9f%9f%e4%bd%8d%e7%bd%ae" aria-label="SSB的频域位置">SSB的频域位置</a></li>
                <li>
                    <a href="#ssb%e7%9a%84%e6%97%b6%e5%9f%9f%e4%bd%8d%e7%bd%ae" aria-label="SSB的时域位置">SSB的时域位置</a></li></ul>
                </li>
                <li>
                    <a href="#pdcch%e4%bf%a1%e9%81%93%e4%b8%8b%e8%a1%8c%e6%8e%a7%e5%88%b6%e4%bf%a1%e9%81%93-polar%e7%bc%96%e7%a0%81-qpsk%e8%b0%83%e5%88%b6" aria-label="PDCCH信道(下行控制信道, Polar编码, QPSK调制)">PDCCH信道(下行控制信道, Polar编码, QPSK调制)</a><ul>
                        
                <li>
                    <a href="#pdcch%e7%9a%84%e6%97%b6%e9%a2%91%e5%9f%9f%e7%a1%ae%e5%ae%9a" aria-label="PDCCH的时频域确定">PDCCH的时频域确定</a></li>
                <li>
                    <a href="#coreset" aria-label="CORESET">CORESET</a></li>
                <li>
                    <a href="#pdcch%e8%81%9a%e5%90%88%e7%ad%89%e7%ba%a7" aria-label="PDCCH聚合等级">PDCCH聚合等级</a></li>
                <li>
                    <a href="#pdcch%e7%9b%b2%e6%a3%80%e6%a3%80%e6%b5%8bpdcch%e7%9a%84%e8%b5%b7%e5%a7%8b%e4%bd%8d%e7%bd%ae" aria-label="PDCCH盲检(检测PDCCH的起始位置)">PDCCH盲检(检测PDCCH的起始位置)</a></li>
                <li>
                    <a href="#search-space%e6%90%9c%e7%b4%a2%e7%a9%ba%e9%97%b4" aria-label="Search Space(搜索空间)">Search Space(搜索空间)</a></li></ul>
                </li>
                <li>
                    <a href="#pdsch%e4%bf%a1%e9%81%93%e4%b8%8b%e8%a1%8c%e5%85%b1%e4%ba%ab%e4%bf%a1%e9%81%93" aria-label="PDSCH信道(下行共享信道)">PDSCH信道(下行共享信道)</a><ul>
                        
                <li>
                    <a href="#pdsch%e6%97%b6%e5%9f%9f%e8%b5%84%e6%ba%90" aria-label="PDSCH时域资源">PDSCH时域资源</a></li>
                <li>
                    <a href="#pdsch%e7%9a%84%e9%a2%91%e5%9f%9f%e8%b5%84%e6%ba%90%e5%88%86%e9%85%8d" aria-label="PDSCH的频域资源分配">PDSCH的频域资源分配</a></li>
                <li>
                    <a href="#pdsch%e7%9a%84dmrs%e6%97%b6%e9%a2%91%e5%9f%9f%e5%88%86%e9%85%8d" aria-label="PDSCH的DMRS时频域分配">PDSCH的DMRS时频域分配</a></li>
                <li>
                    <a href="#%e6%97%b6%e5%9f%9f%e5%88%86%e9%85%8d" aria-label="时域分配">时域分配</a></li>
                <li>
                    <a href="#%e9%a2%91%e5%9f%9f%e5%88%86%e9%85%8d" aria-label="频域分配">频域分配</a></li></ul>
                </li>
                <li>
                    <a href="#csi-rs%e4%bf%a1%e9%81%93%e7%8a%b6%e6%80%81%e4%bf%a1%e6%81%af%e5%8f%82%e8%80%83%e4%bf%a1%e5%8f%b7" aria-label="CSI-RS(信道状态信息参考信号)">CSI-RS(信道状态信息参考信号)</a><ul>
                        
                <li>
                    <a href="#csi-rs%e4%b8%8a%e6%8a%a5%e6%a8%a1%e5%bc%8f" aria-label="CSI-RS上报模式">CSI-RS上报模式</a></li>
                <li>
                    <a href="#cdm-typecsi-rs%e8%b5%84%e6%ba%90%e6%98%a0%e5%b0%84%e7%9a%84%e7%a0%81%e5%88%86%e5%a4%8d%e7%94%a8" aria-label="CDM-Type(CSI-RS资源映射的码分复用)">CDM-Type(CSI-RS资源映射的码分复用)</a></li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#5g%e4%b8%8a%e8%a1%8c%e7%89%a9%e7%90%86%e4%bf%a1%e9%81%93%e4%b8%8e%e4%bf%a1%e5%8f%b7" aria-label="5G上行物理信道与信号">5G上行物理信道与信号</a><ul>
                        
                <li>
                    <a href="#prach%e4%bf%a1%e9%81%93%e9%9a%8f%e6%9c%ba%e6%8e%a5%e5%85%a5%e4%bf%a1%e9%81%93" aria-label="PRACH信道(随机接入信道)">PRACH信道(随机接入信道)</a><ul>
                        
                <li>
                    <a href="#%e5%89%8d%e5%af%bc%e7%a0%81" aria-label="前导码">前导码</a></li>
                <li>
                    <a href="#prach%e6%97%b6%e5%9f%9f%e8%b5%84%e6%ba%90" aria-label="PRACH时域资源">PRACH时域资源</a></li>
                <li>
                    <a href="#prach%e9%a2%91%e5%9f%9f%e8%b5%84%e6%ba%90" aria-label="PRACH频域资源">PRACH频域资源</a></li></ul>
                </li>
                <li>
                    <a href="#pucch%e4%b8%8a%e8%a1%8c%e6%8e%a7%e5%88%b6%e4%bf%a1%e9%81%93" aria-label="PUCCH(上行控制信道)">PUCCH(上行控制信道)</a><ul>
                        
                <li>
                    <a href="#uci" aria-label="UCI">UCI</a></li>
                <li>
                    <a href="#pucch%e6%97%b6%e9%a2%91%e8%b5%84%e6%ba%90" aria-label="PUCCH时频资源">PUCCH时频资源</a></li></ul>
                </li>
                <li>
                    <a href="#pusch%e4%b8%8a%e8%a1%8c%e5%85%b1%e4%ba%ab%e4%bf%a1%e9%81%93" aria-label="PUSCH(上行共享信道)">PUSCH(上行共享信道)</a><ul>
                        
                <li>
                    <a href="#pusch%e6%97%b6%e5%9f%9f%e8%b5%84%e6%ba%90" aria-label="PUSCH时域资源">PUSCH时域资源</a></li>
                <li>
                    <a href="#pusch%e9%a2%91%e5%9f%9f%e8%b5%84%e6%ba%90" aria-label="PUSCH频域资源">PUSCH频域资源</a></li></ul>
                </li>
                <li>
                    <a href="#srs%e6%8e%a2%e6%b5%8b%e5%8f%82%e8%80%83%e4%bf%a1%e5%8f%b7" aria-label="SRS(探测参考信号)">SRS(探测参考信号)</a><ul>
                        
                <li>
                    <a href="#%e4%bd%9c%e7%94%a8" aria-label="作用">作用</a></li>
                <li>
                    <a href="#%e6%97%b6%e5%9f%9f%e5%8f%91%e9%80%81%e6%96%b9%e5%bc%8f" aria-label="时域发送方式">时域发送方式</a>
                </li>
            </ul>
            </li>
            </ul>
            </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><h2 id="5g物理信道与信号">5G物理信道与信号<a hidden class="anchor" aria-hidden="true" href="#5g物理信道与信号">#</a></h2>
<h3 id="5g时频域概念">5G时频域概念<a hidden class="anchor" aria-hidden="true" href="#5g时频域概念">#</a></h3>
<h4 id="名词解释">名词解释<a hidden class="anchor" aria-hidden="true" href="#名词解释">#</a></h4>
<ul>
<li><strong>CC</strong>: <strong>载波</strong>, 1个载波可以配置1个或多个<strong>BWP</strong></li>
<li><strong>BWP</strong>: <strong>部分带宽</strong>,1个BWP包括n个<strong>RB或RBG</strong></li>
<li><strong>RBG</strong>: 一个RBG等于<strong>2,4,8,16个RB</strong>,是数据信道<strong>PDSCH</strong>调度的基本单位</li>
<li><strong>RB</strong>: 1个RB等于<strong>12</strong>个<strong>子载波</strong>,是数据信道<strong>PUSCH</strong>调度的基本单位</li>
<li><strong>SCS</strong>: <strong>子载波间隔的频率(不是子载波)</strong></li>
<li><strong>CCE</strong>: <strong>控制信道</strong>资源的组成单位,一个CCE=<strong>6个REG</strong>, 一个<strong>PDCCH</strong>包含几个CCE, 由聚合等级<strong>1,2,4,8,16共5种</strong>决定</li>
<li><strong>REG</strong>: <strong>控制信道</strong>资源分配的基本单位, 频域上1个REG=<strong>12个RE</strong>,即<strong>12个子载波</strong>(REG类似于RB), 时域上是<strong>1个符号</strong></li>
</ul>
<h4 id="5g频段介绍">5G频段介绍<a hidden class="anchor" aria-hidden="true" href="#5g频段介绍">#</a></h4>
<ol>
<li><strong>FR1频段</strong>: 410MHz &ndash; 7125MHz(<strong>Sub6G</strong>)</li>
<li><strong>FR2频段</strong>: 24250MHz &ndash; 52600MHz(<strong>毫米波</strong>)</li>
</ol>
<p>与4G相比,取消了<strong>1.4M和3MHz</strong>的带宽</p>
<p>注意图中标注的几个频段<strong>n28, n41, n79</strong></p>
<p><img loading="lazy" src="http://120.55.68.94/picture/5G%e7%89%a9%e7%90%86%e4%bf%a1%e9%81%93%e4%b8%8e%e4%bf%a1%e5%8f%b7/5G%e9%a2%91%e5%9f%9f%e8%b5%84%e6%ba%90%e6%a6%82%e8%bf%b0.PNG" alt="5G频段介绍"  />
</p>
<h5 id="5g信道带宽的结构">5G信道带宽的结构<a hidden class="anchor" aria-hidden="true" href="#5g信道带宽的结构">#</a></h5>
<div style="display: flex; color: black; font-size: 15px">
<div align="center" style="background-color: green; width: 15%; ">保护带宽</div>
<div align="center" style="background-color: red; width: 40%">传输带宽</div>
<div align="center" style="background-color: green; width: 15%">保护带宽</div>
</div>
</br>
<ol>
<li>最大传输带宽</li>
</ol>
<p>注: <strong>FR1和FR2都支持的传输带宽的SCS为 <u>60KHz</u></strong></p>
<p><img loading="lazy" src="http://120.55.68.94/picture/5G%e7%89%a9%e7%90%86%e4%bf%a1%e9%81%93%e4%b8%8e%e4%bf%a1%e5%8f%b7/5G%e4%bc%a0%e8%be%93%e5%b8%a6%e5%ae%bd.PNG" alt="5G传输带宽"  />
</p>
<ol start="2">
<li>最小保护带宽</li>
</ol>
<p><img loading="lazy" src="http://120.55.68.94/picture/5G%e7%89%a9%e7%90%86%e4%bf%a1%e9%81%93%e4%b8%8e%e4%bf%a1%e5%8f%b7/5G%e6%9c%80%e5%b0%8f%e4%bf%9d%e6%8a%a4%e5%b8%a6%e5%ae%bd.PNG" alt="5G保护带宽"  />
</p>
<h5 id="双工方式">双工方式<a hidden class="anchor" aria-hidden="true" href="#双工方式">#</a></h5>
<ol>
<li><strong>TDD</strong>: 时分双工, 上下行<strong>频段相同</strong></li>
<li><strong>FDD</strong>: 频分双工, 上下行<strong>频段不同</strong></li>
<li><strong>SDL</strong>: 补充下行频段, 只有下行频段</li>
<li><strong>SUL</strong>: 补充上行频段, 只有上行频段</li>
</ol>
<p><em>SDL和SUL频段只能做下行或者上行，因此不能独立工作，仅作为辅助频段，这些频段的频率较低，覆盖性能较好，可用来弥补上下行覆盖的不足。</em></p>
<h5 id="工信部分配频段">工信部分配频段<a hidden class="anchor" aria-hidden="true" href="#工信部分配频段">#</a></h5>
<p><img loading="lazy" src="http://120.55.68.94/picture/5G%e7%89%a9%e7%90%86%e4%bf%a1%e9%81%93%e4%b8%8e%e4%bf%a1%e5%8f%b7/5G%e9%a2%91%e6%ae%b5%e5%88%86%e9%85%8d.PNG" alt="5G频段分配"  />
</p>
</br>
<h4 id="5g频域资源">5G频域资源<a hidden class="anchor" aria-hidden="true" href="#5g频域资源">#</a></h4>
<h5 id="bwp">BWP<a hidden class="anchor" aria-hidden="true" href="#bwp">#</a></h5>
<p>全称<strong>Bandwidth Part</strong>, 是整个带宽上的一个子集,每个BWP的大小,以及使用的SCS和CP(循环前缀)都可以灵活配置</p>
<ol>
<li>DL和UL分别最多可以配置<strong>4个</strong>专有BWP</li>
<li>BWP的带宽必须大于等于SSB,但是BWP中不一定包含<strong>SSB</strong></li>
<li>对同一个UE来说,DL或UL<strong>同一时刻</strong>只能有<strong>一个BWP处于激活状态</strong></li>
</ol>
<p>BWP分为四类,分别是<strong>初始BWP, 专用BWP, 激活BWP(UE指定), 默认BWP(UE指定)</strong></p>
<p>BWP的四种切换情形:</p>
<ul>
<li>伴随数据调度的<strong>DCI</strong>指示的快速切换</li>
<li>RRC(重)配置: 从initial BWP到first active BWP的切换</li>
<li>基于timer的长时间没有业务调度的切换</li>
<li>UE再随机接入过程中,如果active BWP内没有PRACH资源,则自动切换到initial BWP</li>
</ul>
<h5 id="rbg资源块组">RBG(资源块组)<a hidden class="anchor" aria-hidden="true" href="#rbg资源块组">#</a></h5>
<ul>
<li>一个RBG等于<strong>2,4,8,16个RB</strong>,与BWP的大小有关</li>
<li>RBG用于<strong>type0</strong>(BitMap, 通过Bit位来确定有无资源块)类型资源配置, type1类型资源配置用到<strong>RIV</strong></li>
<li>RIV的方式就是指定<strong>起始位置和长度</strong>
<img loading="lazy" src="http://120.55.68.94/picture/5G%e7%89%a9%e7%90%86%e4%bf%a1%e9%81%93%e4%b8%8e%e4%bf%a1%e5%8f%b7/RBG.PNG" alt="RBG"  />
</li>
</ul>
<h5 id="rb">RB<a hidden class="anchor" aria-hidden="true" href="#rb">#</a></h5>
<p>RB可以分为<strong>CRB和PRB</strong></p>
<ul>
<li>CRB: <strong>公共资源块</strong></li>
<li>PRB: <strong>物理资源块</strong>, 一个PRB是第几个CRB依赖于 <strong>N<sub style="font-size:10px">BWP,i</sub><sup style="margin-left:-25px;">start</sup></strong></li>
</ul>
<p><img loading="lazy" src="http://120.55.68.94/picture/5G%e7%89%a9%e7%90%86%e4%bf%a1%e9%81%93%e4%b8%8e%e4%bf%a1%e5%8f%b7/RB.PNG" alt="RB"  />
</p>
<p>PointA参考点</p>
<p><img loading="lazy" src="http://120.55.68.94/picture/5G%e7%89%a9%e7%90%86%e4%bf%a1%e9%81%93%e4%b8%8e%e4%bf%a1%e5%8f%b7/PointA%e5%8f%82%e8%80%83%e7%82%b9.PNG" alt="alt text"  />
</p>
<h5 id="子载波间隔scs">子载波间隔(SCS)<a hidden class="anchor" aria-hidden="true" href="#子载波间隔scs">#</a></h5>
<p><span></span></p>
<table>
<thead>
<tr>
<th style="text-align:center">μ</th>
<th style="text-align:center">SCS: f=2<sup>μ</sup> * 15(kHz)</th>
<th style="text-align:center">CP(循环前缀)</th>
<th style="text-align:center">RB带宽(12 * f)</th>
<th style="text-align:center">时域</th>
<th style="text-align:center">支持物理信道(PDSCH,PUSCH等)</th>
<th style="text-align:center">支持同步信道(PSS, SSS, PBCH)</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">0</td>
<td style="text-align:center">15</td>
<td style="text-align:center">Normal(14)</td>
<td style="text-align:center">180</td>
<td style="text-align:center">1ms/时隙</td>
<td style="text-align:center">Yes</td>
<td style="text-align:center">Yes</td>
</tr>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">30</td>
<td style="text-align:center">Normal(14)</td>
<td style="text-align:center">360</td>
<td style="text-align:center">0.5ms/时隙</td>
<td style="text-align:center">Yes</td>
<td style="text-align:center">Yes</td>
</tr>
<tr>
<td style="text-align:center"><span style="color: red;" >2</span></td>
<td style="text-align:center"><span style="color: red;" >60</span></td>
<td style="text-align:center"><span style="color: red;" >Normal(14), Extended(12)</span></td>
<td style="text-align:center">720</td>
<td style="text-align:center">0.25ms/时隙</td>
<td style="text-align:center">Yes</td>
<td style="text-align:center"><span style="color: red;" >No</span></td>
</tr>
<tr>
<td style="text-align:center">3</td>
<td style="text-align:center">120</td>
<td style="text-align:center">Normal(14)</td>
<td style="text-align:center">1440</td>
<td style="text-align:center">0.125ms/时隙</td>
<td style="text-align:center">Yes</td>
<td style="text-align:center">Yes</td>
</tr>
<tr>
<td style="text-align:center">4</td>
<td style="text-align:center">240</td>
<td style="text-align:center">Normal(14)</td>
<td style="text-align:center">2880</td>
<td style="text-align:center">0.0625ms/时隙</td>
<td style="text-align:center"><span style="color: red;" >No</span></td>
<td style="text-align:center">Yes</td>
</tr>
</tbody>
</table>
<p><strong>不同SCS大小适合的场景</strong></p>
<p><img loading="lazy" src="http://120.55.68.94/picture/5G%e7%89%a9%e7%90%86%e4%bf%a1%e9%81%93%e4%b8%8e%e4%bf%a1%e5%8f%b7/%e4%b8%8d%e5%90%8cSCS%e5%9c%ba%e6%99%af.PNG" alt="SCS适应的场景"  />
</p>
<h4 id="5g时域资源">5G时域资源<a hidden class="anchor" aria-hidden="true" href="#5g时域资源">#</a></h4>
<h5 id="时域帧">时域帧<a hidden class="anchor" aria-hidden="true" href="#时域帧">#</a></h5>
<ol>
<li>无线帧: 10ms</li>
</ol>
<div style="display: flex;">
    <div align="center" style="border-style: solid;border-width:2px; border-color: black; background-color:green; width: 80% ">10ms</div>
</div>
</br>
<ol>
<li>半帧: 5ms</li>
</ol>
<div style="display: flex;">
    <div align="center" style="border-style: solid;border-width:2px; border-color: black; background-color:green; width: 40% ">5ms</div>
    <div align="center" style="border-style: solid;border-width:2px; border-color: black; background-color:green; width: 40% ">5ms</div>
</div>
</br>
<ol start="3">
<li>子帧: 1ms</li>
</ol>
<div style="display: flex; color: black;">
    <div align="center" style="border-style: solid;border-width:2px; border-color: black; background-color:#e0c128; width: 8% ">1ms</div>
    <div align="center" style="border-style: solid;border-width:2px; border-color: black; background-color:#e0c128; width: 8% ">1ms</div>
    <div align="center" style="border-style: solid;border-width:2px; border-color: black; background-color:#e0c128; width: 8% ">1ms</div>
    <div align="center" style="border-style: solid;border-width:2px; border-color: black; background-color:#e0c128; width: 8% ">1ms</div>
    <div align="center" style="border-style: solid;border-width:2px; border-color: black; background-color:#e0c128; width: 8% ">1ms</div>
</div>
<ol start="4">
<li>时隙</li>
</ol>
<p>一个<strong>子帧</strong>包含2<sup>μ</sup>个<strong>时隙</strong>(μ取0,1,2,3,4)
例: <strong>SCS=30KHz, 即μ=1一个子帧包含2个时隙,每个时隙0.5ms</strong></p>
<ol start="5">
<li>符号(根据循环前缀(CP)决定)</li>
</ol>
<p>普通CP: 一个时隙包含<strong>14个符号</strong>
扩展CP: 一个时隙包含<strong>12个符号</strong></p>
<h5 id="帧结构">帧结构<a hidden class="anchor" aria-hidden="true" href="#帧结构">#</a></h5>
<p><img loading="lazy" src="http://120.55.68.94/picture/5G%e7%89%a9%e7%90%86%e4%bf%a1%e9%81%93%e4%b8%8e%e4%bf%a1%e5%8f%b7/%e6%97%b6%e5%9f%9f%e5%b8%a7%e7%bb%93%e6%9e%84.PNG" alt="时域帧结构"  />
</p>
<p><strong><u>中国移动</u></strong> 用的是<strong>5ms双周期</strong>(特殊子帧6:4:4)
<strong><u>中国电信和联通</u></strong> 用的是<strong>2.5ms双周期</strong>(特殊子帧10:2:2)</p>
<h5 id="帧结构配置">帧结构配置<a hidden class="anchor" aria-hidden="true" href="#帧结构配置">#</a></h5>
<p>系统消息<strong>SIB1</strong>消息会在信令中下发帧结构配置,配置结构为:</p>
<ul>
<li>dl-UL-TransmissionPeriodicity: 指定配置结构(5ms单周期或2.5ms双周期)</li>
<li>配置四元组: (下行时隙数(D),下行符号,上行时隙数(U),上行符号数), 以<strong>5ms单周期</strong>为例(7,6,2,4),则上行时隙2个,下行时隙7个,则<strong>特殊时隙S = 10-7-2 = 1个</strong>,S时隙中包含下行符号6个,上行符号4个,则<strong>GP符号为14-6-4=4个</strong></li>
</ul>
<h5 id="自包含帧结构urllc场景">自包含帧结构(uRLLC场景)<a hidden class="anchor" aria-hidden="true" href="#自包含帧结构urllc场景">#</a></h5>
<p>根据场景需要适配不同的帧结构</p>
<p><img loading="lazy" src="http://120.55.68.94/picture/5G%e7%89%a9%e7%90%86%e4%bf%a1%e9%81%93%e4%b8%8e%e4%bf%a1%e5%8f%b7/uRLLC%e5%9c%ba%e6%99%af%e5%b8%a7%e7%bb%93%e6%9e%84.PNG" alt="uRLLC场景帧结构"  />
</p>
<h2 id="5g下行物理信道与信号">5G下行物理信道与信号<a hidden class="anchor" aria-hidden="true" href="#5g下行物理信道与信号">#</a></h2>
<h3 id="概览">概览<a hidden class="anchor" aria-hidden="true" href="#概览">#</a></h3>
<p><strong>下行信道</strong></p>
<ol>
<li><strong>PBCH: 广播信道</strong>(<strong>QPSK调制, Polar编码</strong>)</li>
<li>PDCCH: 下行<strong>控制信道</strong>(<strong>QPSK调制</strong>)</li>
<li>PDSCH: 下行<strong>共享信道</strong>(<strong>QPSK或16,24,256QAM</strong>)</li>
</ol>
<p><strong>下行信号</strong></p>
<ol>
<li><strong>PSS/SSS: 主同步信号和辅同步信号</strong></li>
<li>DM-RS: 解调参考信号</li>
<li><strong>CSI-RS: 信道状态信息参考信号</strong></li>
<li>PT-RS: 信道相位信息参考信号</li>
</ol>
<p><img loading="lazy" src="http://120.55.68.94/picture/5G%e7%89%a9%e7%90%86%e4%bf%a1%e9%81%93%e4%b8%8e%e4%bf%a1%e5%8f%b7/5G%e4%b8%8b%e8%a1%8c%e4%bf%a1%e9%81%93%e4%b8%8e%e4%bf%a1%e5%8f%b7.PNG" alt="5G下行物理信道与信号"  />
</p>
<h3 id="ssb">SSB<a hidden class="anchor" aria-hidden="true" href="#ssb">#</a></h3>
<h4 id="基本概念">基本概念<a hidden class="anchor" aria-hidden="true" href="#基本概念">#</a></h4>
<p><img loading="lazy" src="http://120.55.68.94/picture/5G%e7%89%a9%e7%90%86%e4%bf%a1%e9%81%93%e4%b8%8e%e4%bf%a1%e5%8f%b7/SSB%e6%a6%82%e5%bf%b5.PNG" alt="SSB"  />
</p>
<p><strong>PSS(主同步信号)<strong>与</strong>SSS(辅同步信号)<strong>和</strong>PBCH</strong>共同构成一个<strong>SSB(SS/PBCH block)</strong></p>
<ul>
<li>时域: 占用<strong>4个OFDM符号</strong></li>
<li>频域: 共占用<strong>240个子载波(20个PRB)</strong>(具体大小与子载波间隔有关)</li>
<li>PBCH中含有<strong>DM-RS</strong></li>
</ul>
<p>DM-RS在PBCH频域上均匀分布,每隔<strong>4个子载波</strong>有一个DM-RS,DM-RS根据<strong>PCI(物理小区ID,0~355)</strong> (mod 4)得到在PBCH的起始位置(那么接下来所有位置都知道了),而PCI是在<strong>PSS和SSS</strong>得到的
<strong>PCI = N<sup>2</sup><sub style="margin-left:-6px;font-size: 10px">ID</sub>(PSS得到) + 3 * N<sup>1</sup><sub style="margin-left:-6px;font-size: 10px">ID</sub>(SSS得到)</strong></p>
<h4 id="ssb的频域位置">SSB的频域位置<a hidden class="anchor" aria-hidden="true" href="#ssb的频域位置">#</a></h4>
<p><img loading="lazy" src="http://120.55.68.94/picture/5G%e7%89%a9%e7%90%86%e4%bf%a1%e9%81%93%e4%b8%8e%e4%bf%a1%e5%8f%b7/SSB%e9%a2%91%e5%9f%9f%e4%bd%8d%e7%bd%ae.PNG" alt="SSB的频域位置"  />
</p>
<ul>
<li>K<sub>SSB</sub>: 低4bit来源于<strong>MIB(系统消息)</strong>, 高4位来源于<strong>PBCH</strong></li>
<li>OffsetToPointA: 来源于<strong>SIB(系统消息)</strong></li>
</ul>
<h4 id="ssb的时域位置">SSB的时域位置<a hidden class="anchor" aria-hidden="true" href="#ssb的时域位置">#</a></h4>
<p><img loading="lazy" src="http://120.55.68.94/picture/5G%e7%89%a9%e7%90%86%e4%bf%a1%e9%81%93%e4%b8%8e%e4%bf%a1%e5%8f%b7/SSB%e6%97%b6%e5%9f%9f%e4%bd%8d%e7%bd%ae.PNG" alt="SSB时域位置"  />
</p>
<p>SSB有多种不同的模式(Pattern): Case A, Case B, <strong>Case C</strong>, Case D&hellip;</p>
<p>如图所示的Case C, 在2.4GHz以内, <strong>一个半帧</strong>(5ms)<strong>最多</strong>发<strong>4个SSB(OFDM 符号),</strong> 在大于2.4GHz部分,<strong>一个半帧</strong>(5ms)<strong>最多</strong>发<strong>8个SSB(OFDM 符号).</strong></p>
<p><img loading="lazy" src="http://120.55.68.94/picture/5G%e7%89%a9%e7%90%86%e4%bf%a1%e9%81%93%e4%b8%8e%e4%bf%a1%e5%8f%b7/SSB%e6%97%b6%e5%9f%9fCaseC.PNG" alt="SSB Case C"  />
</p>
<h3 id="pdcch信道下行控制信道-polar编码-qpsk调制">PDCCH信道(下行控制信道, Polar编码, QPSK调制)<a hidden class="anchor" aria-hidden="true" href="#pdcch信道下行控制信道-polar编码-qpsk调制">#</a></h3>
<p>主要承载<strong>DCI(Downlink Control Information, 下行控制信息).</strong></p>
<p><img loading="lazy" src="http://120.55.68.94/picture/5G%e7%89%a9%e7%90%86%e4%bf%a1%e9%81%93%e4%b8%8e%e4%bf%a1%e5%8f%b7/PDCCH%e4%bf%a1%e9%81%93.PNG" alt="PDCCH信道"  />
</p>
<h4 id="pdcch的时频域确定">PDCCH的时频域确定<a hidden class="anchor" aria-hidden="true" href="#pdcch的时频域确定">#</a></h4>
<ul>
<li>NR将PDCCH<strong>占用的频域与时域占用的OFDM符号数</strong>封装在<strong>CORESET</strong>中;</li>
<li>将PDCCH起始<strong>OFDM符号编号</strong>以及<strong>PDCCH监测周期</strong>等信息封装在<strong>Search Space</strong></li>
</ul>
<h4 id="coreset">CORESET<a hidden class="anchor" aria-hidden="true" href="#coreset">#</a></h4>
<p><img loading="lazy" src="http://120.55.68.94/picture/5G%e7%89%a9%e7%90%86%e4%bf%a1%e9%81%93%e4%b8%8e%e4%bf%a1%e5%8f%b7/CORESET.PNG" alt="CORESET"  />
</p>
<ul>
<li>1 CCE = 6 REG</li>
<li>1 REG = 1 PRB(RB)</li>
<li><strong>1 REG = 12 RE = 12 子载波(频域) = 1 OFDM 符号(时域)</strong></li>
</ul>
<h4 id="pdcch聚合等级">PDCCH聚合等级<a hidden class="anchor" aria-hidden="true" href="#pdcch聚合等级">#</a></h4>
<p>PDCCH的聚合等级决定PDCCH包含多少个CCE(1,2,4,8,16)</p>
<p><img loading="lazy" src="http://120.55.68.94/picture/5G%e7%89%a9%e7%90%86%e4%bf%a1%e9%81%93%e4%b8%8e%e4%bf%a1%e5%8f%b7/PDCCH%e8%81%9a%e5%90%88%e7%ad%89%e7%ba%a7.PNG" alt="PDCCH聚合等级"  />
</p>
<ul>
<li><strong>UE特定数据的聚合等级为</strong>: 1,2,4,8,16</li>
<li><strong>用于资源分配的聚合等级</strong>:4,8,16</li>
</ul>
<h4 id="pdcch盲检检测pdcch的起始位置">PDCCH盲检(检测PDCCH的起始位置)<a hidden class="anchor" aria-hidden="true" href="#pdcch盲检检测pdcch的起始位置">#</a></h4>
<p><img loading="lazy" src="http://120.55.68.94/picture/5G%e7%89%a9%e7%90%86%e4%bf%a1%e9%81%93%e4%b8%8e%e4%bf%a1%e5%8f%b7/PDCCH%e7%9b%b2%e6%a3%80.PNG" alt="PDCCH盲检"  />
</p>
<p>按照<strong>聚合度等级从小到大</strong>检测</p>
<h4 id="search-space搜索空间">Search Space(搜索空间)<a hidden class="anchor" aria-hidden="true" href="#search-space搜索空间">#</a></h4>
<p>Search Space分为<strong>CSS(公共搜索空间)和USS(终端搜索空间)</strong></p>
<p><img loading="lazy" src="http://120.55.68.94/picture/5G%e7%89%a9%e7%90%86%e4%bf%a1%e9%81%93%e4%b8%8e%e4%bf%a1%e5%8f%b7/%e6%90%9c%e7%b4%a2%e7%a9%ba%e9%97%b4.PNG" alt="搜索空间"  />
</p>
<h3 id="pdsch信道下行共享信道">PDSCH信道(下行共享信道)<a hidden class="anchor" aria-hidden="true" href="#pdsch信道下行共享信道">#</a></h3>
<h4 id="pdsch时域资源">PDSCH时域资源<a hidden class="anchor" aria-hidden="true" href="#pdsch时域资源">#</a></h4>
<p>PDSCH在时域上的分配可以<strong>动态变化</strong>, 粒度可以到<strong>符号级</strong></p>
<p><img loading="lazy" src="http://120.55.68.94/picture/5G%e7%89%a9%e7%90%86%e4%bf%a1%e9%81%93%e4%b8%8e%e4%bf%a1%e5%8f%b7/PDSCH%e6%97%b6%e5%9f%9f%e8%b5%84%e6%ba%90.PNG" alt="PDSCH时域资源"  />
</p>
<ul>
<li>typeA: 起始位置(S)靠前,符号数(L)较多(基于时隙的调度)</li>
<li>typeB: 起始位置任意, 符号数较少(适用于低时延的场景)</li>
</ul>
<p>如图所示(typeA和typeB)</p>
<p><img loading="lazy" src="http://120.55.68.94/picture/5G%e7%89%a9%e7%90%86%e4%bf%a1%e9%81%93%e4%b8%8e%e4%bf%a1%e5%8f%b7/PDSCH%e6%97%b6%e5%9f%9f%e7%bb%93%e6%9e%84.PNG" alt="PDSCH时域结构"  />
</p>
<p><strong>SLIV</strong>负责告诉终端S和L的配置</p>
<h4 id="pdsch的频域资源分配">PDSCH的频域资源分配<a hidden class="anchor" aria-hidden="true" href="#pdsch的频域资源分配">#</a></h4>
<p>PDSCH支持<a href="#rbg资源块组">type0和type1</a>的频域分配</p>
<p><img loading="lazy" src="http://120.55.68.94/picture/5G%e7%89%a9%e7%90%86%e4%bf%a1%e9%81%93%e4%b8%8e%e4%bf%a1%e5%8f%b7/PDSCH%e9%a2%91%e5%9f%9f.PNG" alt="PDSCH频域"  />
</p>
<h4 id="pdsch的dmrs时频域分配">PDSCH的DMRS时频域分配<a hidden class="anchor" aria-hidden="true" href="#pdsch的dmrs时频域分配">#</a></h4>
<h4 id="时域分配">时域分配<a hidden class="anchor" aria-hidden="true" href="#时域分配">#</a></h4>
<ul>
<li>TypeA类型: <strong>第一个DMRS</strong>符号位于时隙中<strong>第二个或第三个符号</strong></li>
<li>TypeB类型: <strong>第一个DMRS</strong>符号位于分配的<strong>PDSCH的第一个符号位置</strong>(比较灵活)</li>
</ul>
<p>针对高速移动的场景,<strong>TypeA</strong>可以采用<strong>附加DMRS</strong>的方式提高解调性能, <strong>每个时隙最多配置4个DMRS, 1个前置DMRS和3个附加DMRS</strong>(<strong>单符号</strong>最多配<strong>3个</strong>附加DMRS,<strong>双符号</strong>最多配<strong>1个</strong>附加DMRS)</p>
<h4 id="频域分配">频域分配<a hidden class="anchor" aria-hidden="true" href="#频域分配">#</a></h4>
<p>Type类型由<strong>DL-DMRS-Config-Type配置</strong>, 默认Type1</p>
<ul>
<li>Type1: 单符号支持<strong>4用户</strong>,双符号支持<strong>8用户</strong>,使用<strong>2个CDM组</strong>(码分组), 每个端口上DMRS密度为<strong>6子载波/PRB</strong></li>
</ul>
<p><img loading="lazy" src="http://120.55.68.94/picture/5G%e7%89%a9%e7%90%86%e4%bf%a1%e9%81%93%e4%b8%8e%e4%bf%a1%e5%8f%b7/PDSCH-DMRS%e9%a2%91%e5%9f%9fType1.PNG" alt="PDSCH-DMRS频域Type1"  />
</p>
<ul>
<li>Type2: 单符号<strong>支持6用户</strong>, 双符号<strong>支持12用户</strong>,使用<strong>3个CDM组</strong>, 每个端口上DMRS密度为<strong>4子载波/PRB</strong>(比type1小)</li>
</ul>
<p><img loading="lazy" src="http://120.55.68.94/picture/5G%e7%89%a9%e7%90%86%e4%bf%a1%e9%81%93%e4%b8%8e%e4%bf%a1%e5%8f%b7/PDSCH-DMRS%e9%a2%91%e5%9f%9fType2.PNG" alt="PDSCH-DMRS频域Type2"  />
</p>
<h3 id="csi-rs信道状态信息参考信号">CSI-RS(信道状态信息参考信号)<a hidden class="anchor" aria-hidden="true" href="#csi-rs信道状态信息参考信号">#</a></h3>
<p>在<strong>3GPP 10版本</strong>引入, 主要用于<strong>获取下行信道状态</strong></p>
<p><img loading="lazy" src="http://120.55.68.94/picture/5G%e7%89%a9%e7%90%86%e4%bf%a1%e9%81%93%e4%b8%8e%e4%bf%a1%e5%8f%b7/CSI-RS.PNG" alt="CSI-RS"  />
</p>
<h4 id="csi-rs上报模式">CSI-RS上报模式<a hidden class="anchor" aria-hidden="true" href="#csi-rs上报模式">#</a></h4>
<p>CSI-RS上报模式</p>
<ol>
<li>周期性上报: 只能用1, 即只能用周期性上报</li>
<li>非周期性上报: 可以用1, 2, 3</li>
<li>半持续上报: 可以用1, 3</li>
</ol>
<p><img loading="lazy" src="http://120.55.68.94/picture/5G%e7%89%a9%e7%90%86%e4%bf%a1%e9%81%93%e4%b8%8e%e4%bf%a1%e5%8f%b7/CSI-RS.%e4%b8%8a%e6%8a%a5PNG.PNG" alt="CSI-RS上报"  />
</p>
<h4 id="cdm-typecsi-rs资源映射的码分复用">CDM-Type(CSI-RS资源映射的码分复用)<a hidden class="anchor" aria-hidden="true" href="#cdm-typecsi-rs资源映射的码分复用">#</a></h4>
<p>不同类型可以复用<strong>1, 2, 4, 8</strong>个端口(用户)</p>
<p><img loading="lazy" src="http://120.55.68.94/picture/5G%e7%89%a9%e7%90%86%e4%bf%a1%e9%81%93%e4%b8%8e%e4%bf%a1%e5%8f%b7/CDM-Type.PNG" alt="CDM-Type"  />
</p>
<h2 id="5g上行物理信道与信号">5G上行物理信道与信号<a hidden class="anchor" aria-hidden="true" href="#5g上行物理信道与信号">#</a></h2>
<p><strong>物理信道</strong></p>
<ol>
<li><strong>PRACH: 随机接入信道</strong></li>
<li>PUCCH: 上行控制信道(<strong>QPSK调制</strong>)</li>
<li>PUSCH: 上行共享信道(<strong>QPSK或16,24,256QAM</strong>)</li>
</ol>
<p><strong>物理信号</strong></p>
<ol>
<li><strong>SRS: 探测参考信号</strong></li>
<li>DM-RS: 解调参考信号(与下行信道相同)</li>
<li>PT-RS: 信道相位信息参考信号(与下行信道相同)</li>
</ol>
<h3 id="prach信道随机接入信道">PRACH信道(随机接入信道)<a hidden class="anchor" aria-hidden="true" href="#prach信道随机接入信道">#</a></h3>
<p>主要用于发送随机接入时的<strong>前导码(preamble)</strong></p>
<h4 id="前导码">前导码<a hidden class="anchor" aria-hidden="true" href="#前导码">#</a></h4>
<p>每个小区只会选择一种前导码用作<strong>初始接入</strong>, 一个PRACH信道包含<strong>64个前导码</strong>, 前导码由<strong>ZC序列构成</strong></p>
<ul>
<li>长格式前导码(长度<strong>839</strong>)
<ul>
<li>format用<strong>数字</strong>(0,1,2,3)表示</li>
<li>支持<strong>1.25KHz和5KHz</strong>两种频率(与之前的子载波间隔区分开)</li>
<li><strong>Format1</strong>支持<strong>最大的覆盖范围</strong></li>
<li><strong>Format0</strong>常用于FR1频段</li>
</ul>
</li>
</ul>
<p><img loading="lazy" src="http://120.55.68.94/picture/5G%e7%89%a9%e7%90%86%e4%bf%a1%e9%81%93%e4%b8%8e%e4%bf%a1%e5%8f%b7/PRACH-%e9%95%bf%e5%89%8d%e5%af%bc%e7%a0%81.PNG" alt="长前导码"  />
</p>
<ul>
<li>短格式前导码(长度<strong>139</strong>)
<ul>
<li>format用<strong>字母加数字</strong>表示(A1,A2,B1,B2,&hellip;.)</li>
<li>短格式前导码<strong>覆盖范围比长格式小</strong></li>
<li>f以子载波间隔(SCS)为准</li>
<li>比起长格式,频率普遍较高,时延普遍较低</li>
</ul>
</li>
</ul>
<p><img loading="lazy" src="http://120.55.68.94/picture/5G%e7%89%a9%e7%90%86%e4%bf%a1%e9%81%93%e4%b8%8e%e4%bf%a1%e5%8f%b7/PRACH-%e7%9f%ad%e6%a0%bc%e5%bc%8f%e5%89%8d%e5%af%bc%e7%a0%81.PNG" alt="短前导码"  />
</p>
<p>注: 由于短前导码在时域上占用资源较少, 所以就导致一个slot(时隙)中可以<strong>存在多个PRACH资源</strong>的情况</p>
<h4 id="prach时域资源">PRACH时域资源<a hidden class="anchor" aria-hidden="true" href="#prach时域资源">#</a></h4>
<p>通过<strong>PRACH配置索引</strong>确定传输的PRACH的<strong>format、无线帧号、子帧号、时隙、符号</strong>等时域信息, 主要通过<strong>查表</strong>的方式</p>
<h4 id="prach频域资源">PRACH频域资源<a hidden class="anchor" aria-hidden="true" href="#prach频域资源">#</a></h4>
<p>长格式前导码子载波间隔<strong>1.25KHz和5KHz</strong>两种频率
短格式前导码子载波间隔为<strong>15, 30, 60, 120</strong>(没有240)KHz</p>
<p><img loading="lazy" src="http://120.55.68.94/picture/5G%e7%89%a9%e7%90%86%e4%bf%a1%e9%81%93%e4%b8%8e%e4%bf%a1%e5%8f%b7/PRACH%e9%a2%91%e5%9f%9f%e8%b5%84%e6%ba%90.PNG" alt="PRACH频域"  />
</p>
<p><strong>起点与长度的确定</strong></p>
<p><img loading="lazy" src="http://120.55.68.94/picture/5G%e7%89%a9%e7%90%86%e4%bf%a1%e9%81%93%e4%b8%8e%e4%bf%a1%e5%8f%b7/%e5%89%8d%e5%af%bc%e7%a0%81%e9%a2%91%e5%9f%9f%e8%b5%84%e6%ba%90.PNG" alt="前导码频域起点与长度"  />
</p>
<ul>
<li>长度: n<sub style="font-size: 10px">RA</sub> 0 ~ M - 1(M为FDM,即<strong>频分的个数</strong>,可以取<strong>1, 2, 4, 8</strong>)</li>
<li>起点: n<sup>start</sup><sub style="margin-left:-20px;font-size: 10px">RA</sub> (PRACH的第一个RB索引), N<sup>start</sup><sub style="margin-left:-25px;font-size: 10px">BWP,i</sub>: (从PointA开始算,长度为上行激活的BWP)</li>
</ul>
<h3 id="pucch上行控制信道">PUCCH(上行控制信道)<a hidden class="anchor" aria-hidden="true" href="#pucch上行控制信道">#</a></h3>
<p>主要用于承载<strong>UCI(上行控制信息,与DCI对应)</strong></p>
<h4 id="uci">UCI<a hidden class="anchor" aria-hidden="true" href="#uci">#</a></h4>
<ol>
<li>调度请求SR(SR用于<strong>向gNB申请资源</strong>以便进行PUSCH的传输)</li>
<li>HARQ反馈(向<strong>gNB反馈PDSCH是否正确解码</strong>)</li>
<li>信道状态信息CSI(<strong>CQI</strong>,信道质量指示0~15, <strong>PMI</strong>等)</li>
</ol>
<p>注意: UCI可以在<strong>PUCCH或PUSCH</strong>上传, 但是DCI只能在<strong>PDCCH</strong>上传</p>
<h4 id="pucch时频资源">PUCCH时频资源<a hidden class="anchor" aria-hidden="true" href="#pucch时频资源">#</a></h4>
<p>PUCCH支持<strong>半静态和动态资源分配</strong></p>
<ul>
<li>半静态: <strong>高层RRC信令</strong>直接配置一个资源, 同时配置一个周期和周期内偏移</li>
<li>动态: 高层RRC信令配置<strong>1个或多个PUCCH资源集合</strong>, 每个资源集合包含<strong>多个PUCCH资源</strong>, UE收到下行调度信息后, 会根据<strong>DCI</strong>中指示的PUCCH resource indicator在1个PUCCH资源集合中找到一个确定的资源</li>
</ul>
<p>PUCCH有5种格式,<strong>format(0, 1, 2, 3, 4).</strong></p>
<table>
<thead>
<tr>
<th style="text-align:center">格式</th>
<th style="text-align:center">时域符号数</th>
<th style="text-align:center">频域资源</th>
<th style="text-align:center">UCI信息</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">format0</td>
<td style="text-align:center">1~2个OFDM符号</td>
<td style="text-align:center">占用1个RB的12个子载波</td>
<td style="text-align:center">1~2bit UCI信息</td>
<td>1bit UCI信息时,复用<strong>6个用户</strong>,2bit时复用<strong>3个用户</strong></td>
</tr>
<tr>
<td style="text-align:center">format1</td>
<td style="text-align:center">4~14个OFDM符号</td>
<td style="text-align:center">占用1个RB的12个子载波</td>
<td style="text-align:center">1~2bit UCI信息</td>
<td>UCI与DMRS间隔放置且DMRS占用的OFDM符号尽可能均分, 频域<strong>理论最大12个用户</strong>,实际<strong>最多复用6个用户</strong>. 1bit时<strong>BPSK调制</strong>, 2bit时<strong>QPSK调制</strong></td>
</tr>
<tr>
<td style="text-align:center">format2</td>
<td style="text-align:center">1~2个OFDM符号</td>
<td style="text-align:center">1~16个RB</td>
<td style="text-align:center">大于2bit UCI</td>
<td>DMRS在频域上所占的子载波索引为1,4,7&hellip;只支持<strong>QPSK调制</strong>, <strong>不支持复用</strong></td>
</tr>
<tr>
<td style="text-align:center">format3</td>
<td style="text-align:center">4~14个OFDM符号</td>
<td style="text-align:center">N个RB, N=(1,2,3,4,5,6,8,9,10,12,15,16)</td>
<td style="text-align:center">大于2bit UCI</td>
<td>只支持<strong>单用户</strong>(不支持复用),最多承载4608bit, 采用<strong>QPSK调制</strong></td>
</tr>
<tr>
<td style="text-align:center">format4</td>
<td style="text-align:center">4~14个OFDM符号</td>
<td style="text-align:center">占用1个RB的12个子载波</td>
<td style="text-align:center">大于2bit UCI</td>
<td>复用能力为<strong>2或4</strong></td>
</tr>
</tbody>
</table>
<h3 id="pusch上行共享信道">PUSCH(上行共享信道)<a hidden class="anchor" aria-hidden="true" href="#pusch上行共享信道">#</a></h3>
<h4 id="pusch时域资源">PUSCH时域资源<a hidden class="anchor" aria-hidden="true" href="#pusch时域资源">#</a></h4>
<p>与<a href="#pdsch时域资源">PDSCH</a>类似</p>
<ul>
<li>都使用<strong>SLIV</strong>表示时域资源的起始符号(S)和长度(L)</li>
<li>PUSCH也支持<strong>TypeA和TypeB</strong></li>
<li>与PDSCH不同的是PUSCH的TypeB可以支持<strong>1~14个符号</strong></li>
</ul>
<p><img loading="lazy" src="http://120.55.68.94/picture/5G%e7%89%a9%e7%90%86%e4%bf%a1%e9%81%93%e4%b8%8e%e4%bf%a1%e5%8f%b7/PUSCH%e6%97%b6%e5%9f%9f%e5%88%86%e9%85%8d.PNG" alt="PUSCH时域资源"  />
</p>
<h4 id="pusch频域资源">PUSCH频域资源<a hidden class="anchor" aria-hidden="true" href="#pusch频域资源">#</a></h4>
<p>与<a href="#pdsch的频域资源分配">PDSCH</a>类似</p>
<ul>
<li>支持基于<strong>Bitmap</strong>的位图分配(Type0)</li>
<li>支持基于<strong>RIV</strong>的分配(Type1)</li>
</ul>
<h3 id="srs探测参考信号">SRS(探测参考信号)<a hidden class="anchor" aria-hidden="true" href="#srs探测参考信号">#</a></h3>
<h4 id="作用">作用<a hidden class="anchor" aria-hidden="true" href="#作用">#</a></h4>
<ul>
<li>评估上行的信道参数</li>
<li>上行波束管理</li>
<li>上行波束切换</li>
</ul>
<h4 id="时域发送方式">时域发送方式<a hidden class="anchor" aria-hidden="true" href="#时域发送方式">#</a></h4>
<ul>
<li>周期</li>
<li>半持续</li>
<li>非周期</li>
</ul>
<p><img loading="lazy" src="http://120.55.68.94/picture/5G%e7%89%a9%e7%90%86%e4%bf%a1%e9%81%93%e4%b8%8e%e4%bf%a1%e5%8f%b7/SRS.PNG" alt="SRS"  />
</p>
<p>注: SRS最多配置<strong>16个资源集</strong>,最多配置<strong>64个SRS资源</strong></p>


  </div>

  <footer class="post-footer">
<nav class="paginav">
  <a class="prev" href="https://againwq.github.io/posts/%E5%A4%A7%E5%94%90%E6%9D%AF/5g%E6%97%A0%E7%BA%BF%E6%8A%80%E6%9C%AF%E5%8F%8A%E5%BA%94%E7%94%A8/">
    <span class="title">« 上一页</span>
    <br>
    <span>5G无线网络技术</span>
  </a>
  <a class="next" href="https://againwq.github.io/posts/%E5%A4%A7%E5%94%90%E6%9D%AF/5g%E4%BF%A1%E4%BB%A4%E4%B8%8E%E5%8D%8F%E8%AE%AE/">
    <span class="title">下一页 »</span>
    <br>
    <span>5G信令与协议</span>
  </a>
</nav>

  </footer>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2024 <a href="https://againwq.github.io">Again&#39;s Blog</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = '复制';

        function copyingDone() {
            copybutton.innerHTML = '已复制！';
            setTimeout(() => {
                copybutton.innerHTML = '复制';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
